@model WanderVibe.Models.ServiceDetailViewModel

@{
    ViewData["Title"] = $"Add Services for {Model.Package.PackageName}";
}

<div class="container mt-5">
    <!-- Main Heading -->
    <div class="text-center mb-4">
        <h1>Booking For @Model?.Package?.PackageName</h1>
    </div>

    <!-- Sub Heading and Back to Home Button -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Select One Service Atleast for @Model?.Package?.PackageName</h2>
    </div>

    <!-- Form Wrapper -->
    <form asp-action="ExtraServices" method="post">
        <input type="hidden" name="bookingId" value="@ViewBag.BookingId" />

        <!-- Services Selection -->
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title">Select Services</h5>
                <div class="form-group">
                    <label for="services">Choose Services (Optional):</label>
                    @Html.ListBoxFor(model => model.SelectedServiceIds, new SelectList(
                             Model?.Services?.Select(s => new
                             {
                                 ServiceId = s.ServiceId,
                                 Display = $"{s.Name} - ${s.Price}"
                             }),
                             "ServiceId", "Display", Model?.SelectedServiceIds),
                             new { @class = "form-select", style = "height: 200px;" })
                    <small class="form-text text-muted">Hold down the CTRL (Windows) or Command (Mac) button to select multiple services.</small>
                </div>
            </div>
        </div>

        <!-- Buttons -->
        <div class="d-flex justify-content-end"> 
            <button type="submit" class="btn btn-primary">Confirm Booking</button>
        </div>
    </form>
</div>

